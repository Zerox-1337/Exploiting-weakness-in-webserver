import urllib
import datetime
import ssl
import time
"""
A project that was designed to attack the site generates your grade for an assignment. The project was done 

"""
def delayAttack(name, grade):
	try:
   	 	CF = ssl._create_unverified_context
	except AttributeError:
   		pass
	else:
    		ssl._create_default_https_context = CF
	 
        opener = urllib.FancyURLopener({})
	med = []
	signature = ''
        try:
		for l in range(0, 20):
			med = []
			for k in range (0, 16):
				med.append(0);
				for i in range (0, 5):
            				start = time.time()
            				f = opener.open('https://eitn41.eit.lth.se:3119/ha4/addgrade.php?name=' + name + '&grade=' + grade + '&signature=' + signature + '' + str(format(k, 'x')))
           				end = time.time()
            				diff = end - start
					#print(diff);
					med[k] += diff
				med[k] = med[k]*1.0/5
			maxIndex = med.index(max(med))
			signature += format(maxIndex, 'x');	
			print(signature);
        except IOError, e:
            	print 'error', e
	
delayAttack('Sara', '3')
